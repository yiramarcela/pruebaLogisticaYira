<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="/pw2-grupo03/public/js/sweetalert2.all.min.js"></script>

<script>
    $('.inform-position-btn').on('click', function(e) {
        e.preventDefault();
        const href = $(this).attr('href');

        var parts = href.split("="),
                travelId = parts[parts.length - 1];

        Swal.fire({
            title: 'Informar Posición Actual',
            text: "¿Estás seguro de querer informar tu posición actual en los datos del viaje con ID " + travelId + "?",
            icon: 'question',
            showCancelButton: true,
            cancelButtonText: 'Cancelar',
            confirmButtonColor: '#28a745',
            cancelButtonColor: '#3085d6',
            confirmButtonText: 'Informar Posición'
        }).then((result) => {
            if (result.isConfirmed) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    document.location.href = href + "&lat=" + position.coords.latitude + "&long=" + position.coords.longitude;
                });
            }
        })
    });
</script>